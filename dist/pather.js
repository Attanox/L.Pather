!function(){"use strict";function t(t){throw"L.Pather: "+t+"."}"undefined"==typeof L&&t("Leaflet.js is required: http://leafletjs.com/"),L.Pather=L.FeatureGroup.extend({initialize:function(t){this.options=t||this.defaultOptions(),this.creating=!1},createPath:function(t){return new L.Pather.Polyline({tolerance:this.options.tolerance})},removePath:function(t){return t instanceof L.Pather.Polyline?t.remove():!1},onAdd:function(t){t.dragging.disable();var n=this.options.element||t._container;this.fromPoint={x:0,y:0},this.svg=d3.select(n).append("svg").attr("pointer-events","none").attr("class",this.getOption("moduleClass")).attr("width",this.getOption("width")).attr("height",this.getOption("height")),this.attachEvents(t)},attachEvents:function(t){t.on("mousedown",function(n){this.creating=!0,this.fromPoint=t.latLngToContainerPoint(n.latlng)}.bind(this)),t.on("mouseup",function(){this.creating=!1}.bind(this)),t.on("mousemove",function(n){var e=d3.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("linear");if(this.creating){var i=t.mouseEventToContainerPoint(n.originalEvent),o=[this.fromPoint,new L.Point(i.x,i.y,!1)];this.svg.append("path").classed(this.getOption("lineClass"),!0).attr("d",e(o)).attr("stroke",this.getOption("strokeColour")).attr("stroke-width",this.getOption("strokeWidth")).attr("fill","none"),this.fromPoint={x:i.x,y:i.y}}}.bind(this))},clearAll:function(){d3.select("svg").text("")},getOption:function(t){return this.options[t]||this.defaultOptions()[t]},defaultOptions:function(){return{moduleClass:"pather",strokeColour:"#D7217E",strokeWidth:2,lineClass:"drawing-line",width:"100%",height:"100%"}}}),L.Pather.MODE={VIEW:1,CREATE:2,EDIT:4,DELETE:8,APPEND:16,EDIT_APPEND:20,ALL:31},L.pather=function(t){return new L.Pather(t)}}(),function(){"use strict";L.Pather.Polyline=function(t){this.options=t||this.defaultOptions()},L.Pather.Polyline.prototype={select:function(){},deselect:function(){},attachElbows:function(){},defaultOptions:function(){return{tolerance:1}},tolerance:function(t){return"undefined"!=typeof t?void(this.options.tolerance=parseInt(t)):this.options.tolerance}}}();